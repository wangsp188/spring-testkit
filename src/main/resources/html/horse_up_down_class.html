<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>horse_up_down_class</title>
    <link rel="shortcut icon"
          href="data:image/png;base64,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">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.css" rel="stylesheet" >
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/css/bootstrap-select.min.css"
          rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-treegrid@0.3.0/css/jquery.treegrid.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery.json-viewer@1.4.0/json-viewer/jquery.json-viewer.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsoneditor@9.9.2/dist/jsoneditor.min.css">
</head>
<style>
    button.spmin {
        cursor: pointer !important;
    }

    input.spmin {
        margin: 0;
        font-size: medium;
        line-height: normal;
    }

    #select {
        position: absolute;
        top: 20px;
        left: 10px;
        right: 10px;
    }

    .progress-bar {
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        box-sizing: border-box;
        float: left;
        height: 5px;
        font-size: 12px;
        line-height: 20px;
        color: #fff;
        text-align: center;
        box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .15);
        transition: width .6s ease;
    }


    .all {
        background-color: #ddd;
    }


    details {
        margin-bottom: 7px;
    }

    summary {
        font-weight: bold;
    }

    button.spmin {
        background-color: #258;
        border: none;
        color: white;
        padding: 2px 5px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 12px;
        border-radius: 3px;
    }

    button.spmin:link {
    }

    button.spmin:visited {
    }

    button.spmin:hover {
        background-color: #1920f8;
    }

    button.spmin:active {
        background-color: #f8074c;
    }

    #reqSpan, #timeSpan {
        font-size: 12px;
    }

    #links_container td, #links_container th div {
        padding: 3px;
        overflow: auto;
        max-width: 300px;
    }

    #links_container td pre {
        margin-bottom: 0;
    }

</style>
<body style="margin: 10px;">
<div id='select'>
    <div style="width: 30%;float: right;">
        <div class="custom-control custom-switch" style="display: inline;cursor: pointer;">
            <input type="checkbox" class="custom-control-input"
                   id="toggle-merge" style="cursor: pointer;" checked>
            <label class="custom-control-label" data-toggle="tooltip"
                   title="是否开启链路merge，开启后rpc调用会聚合到根节点"
                   for="toggle-merge" style="cursor: pointer;">
                   <svg t="1726628321498" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1618" width="23" height="23"><path d="M768 448c-47.274 0-88.614 25.78-110.782 64L638 512c-84.928 0-159.98-35.808-223.07-106.428-40.712-45.574-66.986-97.738-75.712-116.436C366.602 265.644 384 230.826 384 192c0-70.58-57.42-128-128-128S128 121.42 128 192c0 47.274 25.78 88.614 64 110.782l0 418.438C153.78 743.386 128 784.726 128 832c0 70.58 57.42 128 128 128s128-57.42 128-128c0-47.274-25.78-88.614-64-110.782L320 491.384C407.106 588.614 516.936 640 638 640l19.218 0c22.168 38.22 63.508 64 110.782 64 70.58 0 128-57.42 128-128S838.58 448 768 448zM256 128c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S220.654 128 256 128zM256 896c-35.346 0-64-28.654-64-64s28.654-64 64-64 64 28.654 64 64S291.346 896 256 896zM768 640c-35.346 0-64-28.654-64-64s28.654-64 64-64 64 28.654 64 64S803.346 640 768 640z" p-id="1619"></path></svg>
            </label>
        </div>
        <a style="background-color: aliceblue;cursor: pointer;" onclick="switch_links_height()">
            <svg style="display: none" data-toggle="tooltip" title="展开链路列表" id="links_witch_btn_open" t="1711587751937"
                 class="icon" viewBox="0 0 1024 1024"
                 version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1468" width="23" height="23">
                <path d="M510.691556 739.555556l388.949333-392.817778a36.579556 36.579556 0 0 0-51.882667-51.484445L510.862222 635.505778 176.355556 295.367111a36.408889 36.408889 0 0 0-62.577778 25.372445 36.522667 36.522667 0 0 0 10.524444 25.941333z"
                      fill="#000000" p-id="1469"></path>
            </svg>
            <svg style="display: none" data-toggle="tooltip" title="收起链路列表" id="links_witch_btn_close" t="1711587845477"
                 class="icon" viewBox="0 0 1024 1024"
                 version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2456" width="23" height="23">
                <path d="M524.48 408.11l315.3 315.3c28.96 28.96 75.92 28.96 104.89 0 9.02-9.02 9.02-23.66 0-32.68L541.29 287.36c-16.06-16.06-42.11-16.06-58.17 0L79.74 690.73c-9.02 9.02-9.02 23.66 0 32.68 28.96 28.96 75.92 28.96 104.89 0l315.3-315.3c6.78-6.77 17.77-6.77 24.55 0z"
                      fill="#323333" p-id="2457"></path>
            </svg>
        </a>
        <input class="spmin" autocomplete="off"
               title="LinkInfo/toProfilerString，回车触发加载；"
               placeholder="LinkInfo/toProfilerString，回车触发加载；" id="source"
               style="width: 55%;"/>
        <button class="spmin"  onclick="maulRender()">渲染</button>
        <a id="switch_width_btn" style="background-color:aliceblue;float: right;cursor: pointer;"
           onclick="switch_width()">
            <svg style="display: none;" data-toggle="tooltip" title="收起详情面板" id="switch_width_btn_close"
                 t="1704884616815" class="icon"
                 viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6041" width="23"
                 height="23">
                <path d="M671.968176 911.99957c-12.287381 0-24.576482-4.67206-33.951566-14.047144L286.048434 545.984249c-18.751888-18.719204-18.751888-49.12028 0-67.872168L638.016611 126.111222c18.751888-18.751888 49.12028-18.751888 67.872168 0 18.751888 18.719204 18.751888 49.12028 0 67.872168l-318.016611 318.047574L705.888778 830.047574c18.751888 18.751888 18.751888 49.12028 0 67.872168C696.544658 907.32751 684.255557 911.99957 671.968176 911.99957z"
                      fill="#575B66" p-id="6042"></path>
            </svg>
            <svg id="switch_width_btn_open" data-toggle="tooltip" title="展开详情面板" t="1704598988110" class="icon"
                 viewBox="0 0 1024 1024" version="1.1"
                 xmlns="http://www.w3.org/2000/svg" p-id="14374" width="23" height="23">
                <path d="M761.055557 532.128047c0.512619-0.992555 1.343475-1.823411 1.792447-2.848649 8.800538-18.304636 5.919204-40.703346-9.664077-55.424808L399.935923 139.743798c-19.264507-18.208305-49.631179-17.344765-67.872168 1.888778-18.208305 19.264507-17.375729 49.631179 1.888778 67.872168l316.960409 299.839269L335.199677 813.631716c-19.071845 18.399247-19.648112 48.767639-1.247144 67.872168 9.407768 9.791372 21.984142 14.688778 34.560516 14.688778 12.000108 0 24.000215-4.479398 33.311652-13.439914l350.048434-337.375729c0.672598-0.672598 0.927187-1.599785 1.599785-2.303346 0.512619-0.479935 1.056202-0.832576 1.567101-1.343475C757.759656 538.879828 759.199462 535.391265 761.055557 532.128047z"
                      fill="#575B66" p-id="14375"></path>
            </svg>
        </a>
    </div>
    <div style="width: 70%;">
        <input class="spmin" data-toggle="tooltip" autocomplete="off" placeholder="回车触发链路树内部搜索" name="sel"
               style="width:30%;"/>
        <span id="timeSpan" style="width: 150px;display: inline-block;overflow: visible;"></span>
        <span id="reqSpan" style="width: 322px;display: inline-block;overflow: visible;"></span>
    </div>
</div>

<div>
    <div style="float: right;width: 30%;margin: 0;padding: 0;margin-top: 34px;">
        <div id="links_container" style="width: 100%;display: none;">
            <table class="table table-bordered " style="width: 100%;" id="links_table">
            </table>
        </div>
        <table id="opsTable" border='1' cellpadding='3' cellspacing='0'
               style='font-size: 12px;border-color:#258;width: 398px;display: none;'>
            <tr>
                <td><input class="spmin" id='group' placeholder='group' style='width: 80px;'/></td>
                <td><input class="spmin" id='biz' placeholder='biz' style='width: 163px;'/></td>
                <td colspan='3'><input class="spmin" id='action' placeholder='action' style='width: 121px;'/></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: aliceblue">配置源</td>
                <td colspan='4'><input class="spmin" id='opssource' placeholder='回车换源,json格式SimpleOps'
                                       style='width: 292px;'/>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: lightcyan">fastover条件</td>
                <td><input class="spmin" id='fastoversource' placeholder='取参数jsonpath,互相包含'
                           style='width: 163px;'/></td>
                <td colspan='3'><input class="spmin" id='fastoverval' placeholder='白名单' style='width: 122px;'/></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: lightcyan">快速失败</td>
                <td><input class="spmin" id='ffs' placeholder='异常码' style='width: 163px;'/></td>
                <td colspan='2'><input class="spmin" id='ffm' placeholder='异常信息' style='width: 86px;'/></td>
                <td rowspan='7' style="white-space: nowrap;text-align: center;">
                    <button class="spmin" onclick='createOpsConfig()'>快<br>乐<br>工<br>作</button>
                </td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: lightcyan">快速返回</td>
                <td><input class="spmin" id='frt' placeholder='类型,FastoverFunction' style='width: 163px;'/></td>
                <td colspan='2'><input class="spmin" id='frs' placeholder='反序列信息' style='width: 86px;'/></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: antiquewhite">debug条件</td>
                <td><input class="spmin" id='debugsource' placeholder='取参数jsonpath,互相包含' style='width: 163px;'/>
                </td>
                <td colspan='2'><input class="spmin" id='debugval' placeholder='白名单' style='width: 86px;'/></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: gainsboro">性能参数</td>
                <td><input id='slowtime' placeholder='慢阈值' style='width: 163px;'/></td>
                <td colspan='2'><input class="spmin" id='outtime' placeholder='超时阈值' style='width: 86px;'/></td>
            </tr>
            <tr>
                <th style="background-color: lavender;text-align: center;">输出</th>
                <th>条件</th>
                <th width="28">入参</th>
                <th width="28">出参</th>
            </tr>

            <tr>
                <td rowspan='2' style="text-align: center;font-weight: bold;background-color: lavender">digest日志<br>link日志
                </td>
                <td>错/慢/DEBUG/非<input class="spmin" id='es' placeholder='预期状态' style='width: 67px;'/></td>
                <td><input class="spmin" type='checkbox' id='epp'/></td>
                <td><input class="spmin" type='checkbox' id='epr'/></td>

            </tr>
            <tr>
                <td>采样率<input class="spmin" id='samplerate' placeholder='1-100,默认100' style='width: 127px;'></td>
                <td><input class="spmin" type='checkbox' id='spp'></td>
                <td><input class="spmin" type='checkbox' id='spr'></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: cornsilk">结果</td>
                <td colspan="4"><span style="width: 300px;display: inline-block;overflow-wrap: break-word;"
                                      id="opsConfig"></span></td>
            </tr>
            <tr>
                <td style="text-align: center;font-weight: bold;background-color: cornsilk">jsonpath验证</td>
                <td><input class="spmin" id='validparam' placeholder='数组参数' style='width: 125px;padding: 2px 0px;'/>
                    <button class="spmin" onclick='try {
                      let pas = JSON.parse($("#validparam").val().trim())
                      renderObj2(pas);
                    }catch (e){
                        showToast("参数必须为json数组");
                    }'>细看
                    </button>
                </td>
                <td style="white-space: nowrap;text-align: center;padding: 2px 0px;">
                    <button class="spmin" onclick='validValve("fastover")'>fastover</button>
                </td>
                <td style="white-space: nowrap;text-align: center;padding: 2px 0px;">
                    <button class="spmin" onclick='validValve("debug")'>debug</button>
                </td>
                <td id="validresult" style="width: 35px;"></td>
            </tr>

        </table>
        <div id="json-renderer" style="margin-top: 5px;"></div>
        <div id="re_test_overlay" style="display: none;">
            <button class="spmin"
                    onclick="$('#reRunSelect').text($('#re_test_points').val()?('当前选中场景:'+$('#re_test_points').val()):'');$('#reRunParamModal').modal('show');">
                测试参数
            </button>
            <select id="re_test_points" style="margin-bottom: 5px;width: 135px;"></select>
            <button class="spmin" id="re_test_btn" onclick="re_test()">测试</button>
            <a id="re_test_witch_btn" style="background-color: aliceblue;float: right;margin-top: 3px;cursor: pointer;"
               onclick="switch_re_test_height()">
                <svg id="re_test_witch_btn_close" data-toggle="tooltip" title="收起测试面板" t="1711587751937" class="icon"
                     viewBox="0 0 1024 1024" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" p-id="1468" width="23" height="23">
                    <path d="M510.691556 739.555556l388.949333-392.817778a36.579556 36.579556 0 0 0-51.882667-51.484445L510.862222 635.505778 176.355556 295.367111a36.408889 36.408889 0 0 0-62.577778 25.372445 36.522667 36.522667 0 0 0 10.524444 25.941333z"
                          fill="#000000" p-id="1469"></path>
                </svg>
                <svg style="display: none" id="re_test_witch_btn_open" data-toggle="tooltip" title="展开测试面板"
                     t="1711587845477" class="icon"
                     viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2456" width="23"
                     height="23">
                    <path d="M524.48 408.11l315.3 315.3c28.96 28.96 75.92 28.96 104.89 0 9.02-9.02 9.02-23.66 0-32.68L541.29 287.36c-16.06-16.06-42.11-16.06-58.17 0L79.74 690.73c-9.02 9.02-9.02 23.66 0 32.68 28.96 28.96 75.92 28.96 104.89 0l315.3-315.3c6.78-6.77 17.77-6.77 24.55 0z"
                          fill="#323333" p-id="2457"></path>
                </svg>
            </a>
            <pre id="re_test_test_id" style="display: inline;color: #e83e8c;margin: 0;"></pre>
            <div id="test_output"
                 style="height: 200px;overflow-wrap: break-word; overflow-y: auto; padding: 10px; border: 1px solid black;overflow: auto;">
            </div>
        </div>
    </div>

    <div id="g6Box" style="width: 70%;height: 100%;"></div>

</div>

<div id="pluginModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" style="width: 70%;max-width: 1000px;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">配置插件，开启丝滑体验</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <pre style="color: #e83e8c">配置链路检索器及节点详情加载器可极大减少手动copy成本，请按照要求实现相关函数。</pre>
                <details close>
                    <summary>链路检索器（
                        <pre style="display:inline;color: #e83e8c">省去手动查询链路json再copy渲染的步骤，需实现根据搜索词的链路检索能力</pre>
                        ）
                    </summary>
                    <pre>请在下方文本域内填写检索器代码（python）</pre>
                    <pre>实现load函数，load(query:str检索词,size:int数量) -> list[dict]</pre>
                    <pre style="color: #e83e8c"># 示例
def load(query: str, size:int) -> list[dict]:
    return [{
"cost":100//耗时
"req_id":"req_id"//请求id 非空，唯一
"input":"入参信息"
"link":"LinkInfo"
           }]</pre>
                    <div id="loader_code_editor" style="width: 100%;height: 300px;"></div>
                    <textarea id="loader_code" name="loader_code" style="display: none;"></textarea>
                </details>

                <details>
                    <summary>链路节点详情加载器（
                        <pre style="display:inline;color: #e83e8c">省去手动查询指定节点日志的步骤，需实现指定节点日志详情加载能力</pre>
                        ）
                    </summary>
                    <pre>请在下方文本域内填写加载器代码（python）</pre>
                    <pre>实现detail函数</pre>
                    <pre>入参是(group,biz,action,req_id,link_id,success,status)返回值是字典</pre>
                    <pre>返回值中存在re_test:{"测试fun":{"key1":"v1"}}则会渲染单点测试功能</pre>
                    <pre style="color: #e83e8c"># 示例
def detail(group: str, biz: str, action: str
, req_id: str, link_id: str, success: str, status: str) -> dict:
    return {
        "自定义key": {},
        "自定义key2": "自定义val"
    }</pre>
                    <div id="detail_code_editor" style="width: 100%;height: 300px;">
                    </div>
                    <textarea id="detail_code" name="detail_code" style="display: none;"></textarea>
                </details>
            </div>

        </div>
    </div>
</div>

<div id="reRunParamModal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" style="width: 70%;max-width: 1000px;">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">节点测试</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <pre style="color: #e83e8c">当详情插件返回re_test为dict时则会渲染测试面板</pre>
                <pre style="color: #e83e8c">re_test是一个单层dict，key是可选测试场景，val是该场景的测试参数(可手动修改)</pre>
                <pre id="reRunSelect"></pre>
                <div id="rerun-param-renderer" style="height: 500px;">
                </div>
            </div>
        </div>
    </div>
</div>
</body>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.18/dist/js/bootstrap-select.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.12.0/dist/extensions/treegrid/bootstrap-table-treegrid.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-treegrid@0.3.0/js/jquery.treegrid.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.json-viewer@1.4.0/json-viewer/jquery.json-viewer.min.js"></script>
<script src="https://gw.alipayobjects.com/os/lib/antv/g6/4.8.21/dist/g6.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jsoneditor@9.9.2/dist/jsoneditor.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ace-builds@1.4.12/src-min/ace.js"></script>
<script>
    $("#source").width($("#select").width() * 0.3 - 230);

    /* JSONPath 0.8.0 - XPath for JSON
 *
 * Copyright (c) 2007 Stefan Goessner (goessner.net)
 * Licensed under the MIT (MIT-LICENSE.txt) licence.
 */
    function jsonPath(obj, expr, arg) {
        var P = {
            resultType: arg && arg.resultType || "VALUE",
            result: [],
            normalize: function (expr) {
                var subx = [];
                return expr.replace(/[\['](\??\(.*?\))[\]']/g, function ($0, $1) {
                    return "[#" + (subx.push($1) - 1) + "]";
                })
                    .replace(/'?\.'?|\['?/g, ";")
                    .replace(/;;;|;;/g, ";..;")
                    .replace(/;$|'?\]|'$/g, "")
                    .replace(/#([0-9]+)/g, function ($0, $1) {
                        return subx[$1];
                    });
            },
            asPath: function (path) {
                var x = path.split(";"), p = "$";
                for (var i = 1, n = x.length; i < n; i++)
                    p += /^[0-9*]+$/.test(x[i]) ? ("[" + x[i] + "]") : ("['" + x[i] + "']");
                return p;
            },
            store: function (p, v) {
                if (p) P.result[P.result.length] = P.resultType == "PATH" ? P.asPath(p) : v;
                return !!p;
            },
            trace: function (expr, val, path) {
                if (expr) {
                    var x = expr.split(";"), loc = x.shift();
                    x = x.join(";");
                    if (val && val.hasOwnProperty(loc))
                        P.trace(x, val[loc], path + ";" + loc);
                    else if (loc === "*")
                        P.walk(loc, x, val, path, function (m, l, x, v, p) {
                            P.trace(m + ";" + x, v, p);
                        });
                    else if (loc === "..") {
                        P.trace(x, val, path);
                        P.walk(loc, x, val, path, function (m, l, x, v, p) {
                            typeof v[m] === "object" && P.trace("..;" + x, v[m], p + ";" + m);
                        });
                    } else if (/,/.test(loc)) { // [name1,name2,...]
                        for (var s = loc.split(/'?,'?/), i = 0, n = s.length; i < n; i++)
                            P.trace(s[i] + ";" + x, val, path);
                    } else if (/^\(.*?\)$/.test(loc)) // [(expr)]
                        P.trace(P.eval(loc, val, path.substr(path.lastIndexOf(";") + 1)) + ";" + x, val, path);
                    else if (/^\?\(.*?\)$/.test(loc)) // [?(expr)]
                        P.walk(loc, x, val, path, function (m, l, x, v, p) {
                            if (P.eval(l.replace(/^\?\((.*?)\)$/, "$1"), v[m], m)) P.trace(m + ";" + x, v, p);
                        });
                    else if (/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(loc)) // [start:end:step]  phyton slice syntax
                        P.slice(loc, x, val, path);
                } else
                    P.store(path, val);
            },
            walk: function (loc, expr, val, path, f) {
                if (val instanceof Array) {
                    for (var i = 0, n = val.length; i < n; i++)
                        if (i in val)
                            f(i, loc, expr, val, path);
                } else if (typeof val === "object") {
                    for (var m in val)
                        if (val.hasOwnProperty(m))
                            f(m, loc, expr, val, path);
                }
            },
            slice: function (loc, expr, val, path) {
                if (val instanceof Array) {
                    var len = val.length, start = 0, end = len, step = 1;
                    loc.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g, function ($0, $1, $2, $3) {
                        start = parseInt($1 || start);
                        end = parseInt($2 || end);
                        step = parseInt($3 || step);
                    });
                    start = (start < 0) ? Math.max(0, start + len) : Math.min(len, start);
                    end = (end < 0) ? Math.max(0, end + len) : Math.min(len, end);
                    for (var i = start; i < end; i += step)
                        P.trace(i + ";" + expr, val, path);
                }
            },
            eval: function (x, _v, _vname) {
                try {
                    return $ && _v && eval(x.replace(/@/g, "_v"));
                } catch (e) {
                    throw new SyntaxError("jsonPath: " + e.message + ": " + x.replace(/@/g, "_v").replace(/\^/g, "_a"));
                }
            }
        };

        var $ = obj;
        if (expr && obj && (P.resultType == "VALUE" || P.resultType == "PATH")) {
            P.trace(P.normalize(expr).replace(/^\$;/, ""), obj, "$");
            return P.result.length ? P.result : false;
        }
    }
</script>
<script type="text/javascript">

    /**
     * 是不是对象/数组
     * @param obj
     * @returns {boolean|arg is any[]}
     */
    function isJsonArray(obj) {
        var ob = typeof obj === 'object' && Object.prototype.toString.call(obj) === '[object Object]';
        var ar = Array.isArray(obj);
        return ob || ar;
    }

    /*
    对象是否是空
    */
    function isEmptyObj(obj) {
        if (obj === undefined || obj == null) {
            return true;
        }
        return JSON.stringify(obj) === '{}' || JSON.stringify(obj) === '';
    }

    /**
     * 是否是非空数组
     * @param obj
     * @returns {boolean}
     */
    function isNotEmptyArray(obj) {
        return Array.isArray(obj) && obj.length > 0;
    }

    function isNotEmptyObj(obj) {
        if (obj === undefined || obj == null) {
            return false;
        }
        if (typeof obj !== 'object' || Array.isArray(obj)) {
            return false
        }
        if (Object.keys(obj).length > 0) {
            return true
        }
        return false;
    }

    /*
    判断有没有某属性
    */
    function hasProperty(obj, key) {
        if (obj == null || obj == undefined) {
            return false
        }
        return key in obj && obj[key] != null;
    }

    function showToast(message) {
        message = message.replace(/\n/g, '<br>');

        const toastHtml = `
        <div id="myToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" style="position: fixed; bottom: 50px; right: 50px; min-width: 200px;word-break: break-word;word-wrap: break-word;overflow-wrap: break-word;z-index: 9999;">
            <div class="toast-header">
                <strong class="mr-auto">提示</strong>
                <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="toast-body">
                ${message}
            </div>
        </div>`;

        const maxToasts = 2;

        while ($('.toast').length >= maxToasts) {
            $('.toast').first().remove();
        }

        $('body').append(toastHtml);

        const $toast = $('.toast').last();
        $toast.toast({delay: 20000});
        $toast.toast('show');
        $toast.on('hidden.bs.toast', function () {
            $(this).remove();
        });
    }

    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    /**
     * 是否存在oneStr包含twoStr
     * @param oneStr
     * @param twoStr
     * @returns {boolean|*}
     */
    function existOneIncludeTwo(oneStr, twoStr) {
        if (oneStr === undefined) {
            return false;
        }
        // toUpperCase()：把字符串转换为大写
        // toLowerCase()：把字符串转换为小写
        // return oneStr.toLowerCase().includes(twoStr.toLowerCase());
        return JSON.stringify(oneStr).toUpperCase().includes(twoStr.toUpperCase());
    }

    function switch_width() {
        if ($("#switch_width_btn_close").is(":visible")) {
            $("#switch_width_btn_open").show();
            $("#switch_width_btn_close").hide();
            $("#json-renderer").width("100%");
            $("#re_test_overlay").width("100%");
            $("#links_container").width("100%");
            $("#re_test_witch_btn").css("margin-right", "0px");
        } else {
            $("#switch_width_btn_open").hide();
            $("#switch_width_btn_close").show();
            $("#json-renderer").width("250%");
            $("#links_container").width("250%");
            $("#re_test_overlay").width("250%");
            $("#re_test_witch_btn").css("margin-right", "60%");
        }
    }

    function switch_re_test_height() {
        if ($("#re_test_witch_btn_close").is(":visible")) {
            $("#re_test_witch_btn_close").hide();
            $("#re_test_witch_btn_open").show();
            $("#json-renderer").height($("#json-renderer").height() + 200);
            $("#test_output").hide();
        } else {
            $("#re_test_witch_btn_close").show();
            $("#re_test_witch_btn_open").hide();
            $("#json-renderer").height($("#json-renderer").height() - 200);
            $("#test_output").show();
        }
    }

    function switch_links_height() {
        if ($("#links_witch_btn_open").is(":visible")) {
            $("#links_witch_btn_open").hide();
            $("#links_witch_btn_close").show();
            $("#json-renderer").hide();
            $("#links_container").show();
        } else {
            $("#links_witch_btn_close").hide();
            $("#links_witch_btn_open").show();
            $("#json-renderer").show();
            $("#links_container").hide();
        }
    }

    /*
    递归解析子节点
    */
    function parseChild(segment, point) {
        point.linkid = segment.linkid
        point.group = segment.group;
        point.biz = segment.biz;
        point.action = segment.action;
        point.success = segment.error ? 'N' : (segment.implicitError === true ? 'I' : 'Y');
        point.error = segment.error;
        point.performance = segment.performance === "NORMAL" && segment['implicitSlow'] === true ? "I" : segment.performance;
        point.slow = segment.performance === 'SLOW' || segment.performance === 'TIMEOUT';
        point.timeout = segment.performance === 'TIMEOUT';
        point.status = segment.status;
        point.digests = segment.digests;
        point.tags = segment.tags;
        point.begin = segment.begin;
        point.end = segment.end;
        point.cost = segment.cost;
        point.shortDetails = segment.shortDetails;
        point.callback = segment.callback;

        for (let index in point.digests) {
            let key = point.digests[index]['k'];
            if (key === '_req_id') {
                point.req_id = point.digests[index]['v']
            } else if (key === '_time') {
                point.time = point.digests[index]['v']
            }
        }

        point.id = (point.req_id?point.req_id:'')+'#'+point.linkid

        var segments = segment.segments;
        if (isEmptyObj(segments)) {
            return;
        }
        var children = [];
        point.children = children;

        for (id in segments) {
            var child = {};
            child.req_id = point.req_id
            parseChild(segments[id], child);
            children.push(child);
        }
        //根据开始时间排序
        children.sort(function (a, b) {
            return a.begin - b.begin;
        });
    }

    function load() {
        let curr_id = new Date().getTime()
        pluginLoadId = curr_id;
        let query = $("#source").val()
        let loader_code = $("#loader_code").val()
        if (!loader_code || loader_code.trim().length == 0 || !loader_code.includes('load')) {
            alert('请先配置检索器，检索器必须含有load函数')
            return
        }

        let num = Math.max(parseInt(($("#g6Box").height() - 100) / 30), 1)
        fetch('/dynamic_load', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                code: loader_code,
                func: 'load',
                args: [query, num]
            })
        }).then(response => response.json())
            .then(function (data) {
                if (pluginLoadId !== curr_id) {
                    console.log('非最新load结果')
                    return;
                }
                if (data.success) {
                    if (!Array.isArray(data.data) || data.data.length == 0) {
                        //尝试一次离线加载
                        // if (offline == false && $("#toggle-offline").is(":checked")) {
                        //     load(true)
                        // } else {
                        //     refreshLinksData([])
                        // }
                        refreshLinksData([])
                        return;
                    }
                    // 刷新数据
                    refreshLinksData(data.data)
                } else {
                    throw new Error(data.message);
                }
            }).catch(error => {
            showToast(error.message);
            $('#links_table').bootstrapTable('hideLoading');
            refreshLinksData([]);
        });
        // if (offline) {
        //     refreshLinksData([{
        //         'group': '加',
        //         'input': '载',
        //         'req_id': '线',
        //         'cost': '离',
        //         'did':1,
        //         'pid':null
        //     }],true);
        // } else {
        //     refreshLinksData([]);
        //     // 刷新数据
        //     $('#links_table').bootstrapTable('showLoading');
        // }
        refreshLinksData([]);
        // 刷新数据
        $('#links_table').bootstrapTable('showLoading');
    }


    /**
     * 搜索节点
     * @param keyword
     */
    function selectNodes(keyword) {
        if (graph == null) {
            return;
        }
        graph.fitView([40, 20]);
        //原先选中的先取消掉
        var clickNodes = graph.findAllByState('node', 'click');
        clickNodes.forEach(function (node) {
            graph.setItemState(node, 'click', false);
        })
        if (keyword === '') {
            return;
        }
        //所有相关的全选中
        graph.findAll('node', function (node) {
            var model = node._cfg.model;

            //id找
            if (keyword === model.linkid) {
                graph.setItemState(node, 'click', true);
                return;
            }

            //关键字找
            if (existOneIncludeTwo(model.group, keyword)
                || existOneIncludeTwo(model.digests, keyword)
                || existOneIncludeTwo(model.tags, keyword)
                || existOneIncludeTwo(model.biz, keyword)
                || existOneIncludeTwo(model.action, keyword)
                || existOneIncludeTwo(model.status, keyword)
                || existOneIncludeTwo(model.cost, keyword)
                || existOneIncludeTwo(model.error, keyword)
                || existOneIncludeTwo(model.shortDetails, keyword)
            ) {
                graph.setItemState(node, 'click', true);
                return;
            }

        })
    }


    function copyToClipboard(text) {
        var textArea = document.createElement("textarea");
        textArea.style.position = 'fixed';
        textArea.style.top = '0';
        textArea.style.left = '0';
        textArea.style.width = '2em';
        textArea.style.height = '2em';
        textArea.style.padding = '0';
        textArea.style.border = 'none';
        textArea.style.outline = 'none';
        textArea.style.boxShadow = 'none';
        textArea.style.background = 'transparent';
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.select();

        try {
            var successful = document.execCommand('copy');
            if (!successful) {
                alert('浏览器不支持点击复制');
            }
        } catch (err) {
            alert('浏览器不支持点击复制');
        }

        document.body.removeChild(textArea);
    }

    /**
     * 渲染内容
     * @param key
     */
    function renderObj(key) {
        let value = shortDetailsMap[key]
        if (typeof value === 'string') {
            try {
                value = JSON.parse(value)
            } catch (e) {
            }
        }
        window.json_render.set(value)
        if (window.json_render.getMode() === 'view') {
            window.json_render.expandAll();
        }
        if ($("#re_test_overlay").is(":visible")) {
            $("#re_test_overlay").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
        }
    }

    function renderObj2(val) {
        window.json_render.set(val)
        if (window.json_render.getMode() === 'view') {
            window.json_render.expandAll();
        }
        if ($("#re_test_overlay").is(":visible")) {
            $("#re_test_overlay").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
        }
    }

    /**
     * 准备ops
     * @param group
     * @param biz
     * @param action
     */
    function prepareOps(group, biz, action) {
        if ($("#links_container").is(":visible")) {
            switch_links_height();
        }
        if ($("#opsTable").is(":visible")) {
            $("#opsTable").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#opsTable").height());
        } else {
            $("#opsTable").show();
            $("#json-renderer").height($("#json-renderer").height() - $("#opsTable").height());
        }
        $("#group").val(group);
        $("#biz").val(biz);
        $("#action").val(action);
    }

    function detailLogs(group, biz, action, req_id, link_id, success, status) {
        if ($("#links_container").is(":visible")) {
            switch_links_height();
        }
        if ($("#re_test_overlay").is(":visible")) {
            $("#re_test_overlay").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
        }
        let curr_id = new Date().getTime()
        pluginDetailId = curr_id;
        link_id = link_id || '0';
        let detail_code = $("#detail_code").val()
        if (!detail_code || detail_code.trim().length == 0 || !detail_code.includes('detail')) {
            alert('请先配置详情加载器，详情加载器必须含有detail函数')
            return
        }
        fetch('/dynamic_load', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                code: detail_code,
                func: 'detail',
                args: [ group, biz, action, req_id, link_id, success, status]
            })
        }).then(response => response.json())
            .then(function (data) {
                if (pluginDetailId !== curr_id) {
                    console.log('非最新detail结果')
                    return;
                }
                if (data.success) {
                    if (hasProperty(data.data, 're_test') && isNotEmptyObj(data.data['re_test'])) {
                        // 清理内容
                        $('#re_test_points').empty();
                        $('#test_output').html('');
                        $('#re_test_test_id').html('');
                        window.rerun_param_render.set(data.data['re_test'] || {})
                        if (window.rerun_param_render.getMode() === 'view') {
                            window.rerun_param_render.expandAll();
                        }
                        try {
                            test_sse.close()
                        } catch (e) {
                        }
                        for (let point in data.data['re_test']) {
                            //新增场景
                            $('#re_test_points').append(new Option(point, point));
                        }
                        if (!$("#re_test_overlay").is(":visible")) {
                            $("#re_test_overlay").show();
                            $("#json-renderer").height($("#json-renderer").height() - $("#re_test_overlay").height());
                        }
                    } else {
                        if ($("#re_test_overlay").is(":visible")) {
                            $("#re_test_overlay").hide();
                            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
                        }
                    }
                    if (hasProperty(data.data, 're_test')) {
                        delete data.data['re_test']
                    }
                    // 要做一个事情
                    // if (isEmptyObj(data.data) && (offline == undefined || offline !== true) && $("#toggle-offline").is(":checked")) {
                    //     detailLogs(group, biz, action, req_id, link_id, success, status, true);
                    // } else {
                    //     window.json_render.set(data.data || {})
                    //     if (window.json_render.getMode() === 'view') {
                    //         window.json_render.expandAll();
                    //     }
                    // }
                    window.json_render.set(data.data || {})
                        if (window.json_render.getMode() === 'view') {
                            window.json_render.expandAll();
                        }
                } else {
                    throw new Error(data.message);
                }
            }).catch(error => window.json_render.set("节点详情加载失败，" + error.message));
        window.json_render.set("正在加载节点详情...")
    }

    function re_test() {
        if ($("#re_test_btn").text().trim() !== '测试') {
            try {
                console.log('关闭', test_sse);
                test_sse.close();
            } catch (e) {
            }
            $("#re_test_btn").text('测试');
            $("#test_output").text('');
            $("#re_test_test_id").text('');
            return;
        }


        var test_point = $('#re_test_points').val()
        if (!test_point) {
            showToast('请选择测试场景');
            return;
        }

        let param = null;
        try {
            param = window.rerun_param_render.get()[test_point]
            if (typeof param !== 'object') {
                showToast('测试参数必须是dict');
                return
            }
        } catch (e) {
            showToast('获取测试参数失败');
            return;
        }

        let detail_code = $("#detail_code").val()
        if (detail_code.length === 0) {
            showToast('单点测试依赖详情加载器，请配置');
            throw '单点测试依赖详情加载器，请配置';
        }
        $("#re_test_btn").text('准备');
        $("#re_test_test_id").text('');
        //验证
        $.ajax({
                type: 'POST',
                url: '/set_body',
                data: {
                    'body': JSON.stringify({
                        "detail_code": detail_code,
                        'test_point': test_point,
                        'test_param': param
                    })
                },
                dataType: 'json',
                success: function (result, status) {
                    if (status != 'success') {
                        $("#test_output").html('<pre>请求失败，请重试！</pre>');
                        $("#re_test_btn").text('测试');
                        return;
                    }
                    $("#test_output").html('<pre>正在等待响应,请稍后...</pre>');
                    let eventSource = new EventSource("/re_test?p_index=" + result);
                    test_sse = eventSource;
                    eventSource.onopen = function (event) {
                        console.log("onopen");
                        $("#re_test_btn").text('停止');
                    };
                    eventSource.addEventListener("message", function (event) {
                        var data = JSON.parse(event.data)
                        console.log(data);
                        if (data.fail == true) {
                            eventSource.close();
                            $("#re_test_btn").text('测试');
                            $("#test_output").html('<pre>请求失败，' + data.message + '</pre>');
                            $("#re_test_test_id").text(data.test_id);
                            return
                        }

                        if (data.finished === true) {
                            eventSource.close();
                            $("#re_test_btn").text('测试');
                            $("#re_test_test_id").text(data.test_id);
                        }
                        let data_str = data.data
                        try {
                            data_str = JSON.stringify(data_str, null, 4)
                        } catch (e) {
                        }
                        $("#test_output").html('<pre class=\'pre-scrollable\' style="overflow-wrap: break-word; word-break: break-all; white-space: pre-wrap;">' + escapeHtml(data_str) + '</pre>')
                    });
                    eventSource.addEventListener("error", function (event) {
                        eventSource.close();
                        $("#re_test_btn").text('测试');
                        $("#test_output").html('<pre>服务端异常，请联系少朋</pre>');
                        $("#re_test_test_id").text('');
                    });

                    eventSource.onclose = function (event) {
                        //调用close函数不会直接触发onclose
                        console.log("onclose")
                        $("#re_test_btn").text('测试');
                        $("#re_test_test_id").text('');
                    };
                },
                error: function (jqXHR, textStatus, error) {
                    $("#re_test_btn").text('测试');
                    $("#test_output").html('<pre>发起失败，请联系少朋</pre>');
                    $("#re_test_test_id").text('');
                }
            }
        );
    }

    function slsKeywords(req_id, link_id) {
        link_id = link_id || '0';
        let text = ''
        if (req_id.trim().length > 0) {
            text = req_id + ' and ' + link_id + "*";
        } else {
            text = link_id + "*";
        }
        copyToClipboard(text)
    }

    function nowHour() {
        var yy = new Date().getFullYear();
        var mm = new Date().getMonth() + 1;
        mm = mm < 10 ? '0' + mm : mm;
        var dd = new Date().getDate();
        dd = dd < 10 ? '0' + dd : dd;
        var hh = new Date().getHours();
        hh = hh < 10 ? '0' + hh : hh;
        return yy + mm + dd + hh;
    }

    function changeOpssource() {
        var opsStr = $("#opssource").val().trim();
        if (opsStr.length <= 0) {
            return;
        }
        var opsSource = null;
        try {
            opsSource = JSON.parse(opsStr);
        } catch (e) {
            alert('请填写合适SimpleOps配置!');
            return;
        }

        if (!confirm('确认要覆盖当前输入框中的配置么?')) {
            return;
        }

        var fastoverConfig = opsSource.fastoverConfig;

        var fastoversources = fastoverConfig && fastoverConfig.sources;
        if (fastoversources) {
            $("#fastoversource").val(fastoversources);
        }

        var fastoverwhites = fastoverConfig && fastoverConfig.whites;
        if (fastoverwhites) {
            $("#fastoverval").val(fastoverwhites);
        }


        var fastoverfastFail = fastoverConfig && fastoverConfig.fastFail;
        if (fastoverfastFail && fastoverfastFail.length === 2) {
            $("#ffs").val(fastoverfastFail[0]);
            $("#ffm").val(fastoverfastFail[1]);
        }
        var fastoverfastReturn = fastoverConfig && fastoverConfig.fastReturn;
        if (fastoverfastReturn && fastoverfastReturn.length === 2) {
            $("#frt").val(fastoverfastReturn[0]);
            $("#frs").val(isJsonArray(fastoverfastReturn[1]) ? JSON.stringify(fastoverfastReturn[1]) : fastoverfastReturn[1]);
        }

        var slowTime = opsSource.slowTime;
        if (slowTime !== undefined) {
            $("#slowtime").val(slowTime);
        }
        var outTime = opsSource.outTime;
        if (outTime !== undefined) {
            $("#outtime").val(outTime);
        }

        var debugConfig = opsSource.debugConfig;

        var debugsources = debugConfig && debugConfig.sources;
        if (debugsources) {
            $("#debugsource").val(debugsources);
        }
        var debugendwhites = debugConfig && debugConfig.whites;
        if (debugendwhites) {
            $("#debugval").val(debugendwhites);
        }

        var detailConfig = opsSource.detailConfig;
        var detaileps = detailConfig && detailConfig.expectStatus;
        if (detaileps !== undefined) {
            $("#es").val(detaileps);
        }
        var detailspecialDetail = detailConfig && detailConfig.specialDetail;
        if (detailspecialDetail) {
            $("#epp").prop("checked", detailspecialDetail.indexOf("$.params") > -1 || detailspecialDetail.indexOf("$['params','result']") > -1);
            $("#epr").prop("checked", detailspecialDetail.indexOf("$.result") > -1 || detailspecialDetail.indexOf("$['params','result']") > -1);
        }
        var detailsampleRate = detailConfig && detailConfig.sampleRate;
        if (detailsampleRate !== undefined) {
            $("#samplerate").val(detailsampleRate);
        }

        var detailsampleDetail = detailConfig && detailConfig.sampleDetail;
        if (detailsampleDetail) {
            $("#spp").prop("checked", detailsampleDetail.indexOf("$.params") > -1 || detailsampleDetail.indexOf("$['params','result']") > -1);
            $("#spr").prop("checked", detailsampleDetail.indexOf("$.result") > -1 || detailsampleDetail.indexOf("$['params','result']") > -1);
        }
    }

    /**
     * 生成ops配置json
     */
    function createOpsConfig() {
        var ba = $("#group").val().trim() + "#" + $("#biz").val().trim() + "#" + $("#action").val().trim();
        if (ba.length === 2) {
            alert("请指定group,biz,action!");
            return;
        }

        var config = {};
        var expectStatus = $("#es").val().trim();

        var outtime = null;
        try {
            outtime = parseInt($("#outtime").val().trim());
        } catch (err) {
        }

        var slowtime = null;
        try {
            slowtime = parseInt($("#slowtime").val().trim());
        } catch (err) {
        }
        var debugsource = $("#debugsource").val().trim();
        var debugval = [];
        if ($("#debugval").val().length > 0) {
            debugval = $("#debugval").val().trim().split(",");
        }

        var fastoversource = $("#fastoversource").val().trim();
        var fastoverval = [];
        if ($("#fastoverval").val().length > 0) {
            fastoverval = $("#fastoverval").val().trim().split(",");
        }


        var specialDetail = "";
        if ($("#epp").is(':checked') || $("#epr").is(':checked')) {
            if ($("#epp").is(':checked')) {
                specialDetail = "$.params";
                if ($("#epr").is(':checked')) {
                    specialDetail = "$['params','result']";
                }
            } else if ($("#epr").is(':checked')) {
                specialDetail = "$.result";
            }
        }

        var sampleDetail = "";
        if ($("#spp").is(':checked') || $("#spr").is(':checked')) {
            if ($("#spp").is(':checked')) {
                sampleDetail = "$.params";
                if ($("#spr").is(':checked')) {
                    sampleDetail = "$['params','result']";
                }
            } else if ($("#spr").is(':checked')) {
                sampleDetail = "$.result";
            }
        }
        var samplerate = $("#samplerate").val().trim().length === 0 ? 100 : Number($("#samplerate").val().trim()).valueOf();

        var failover = [];
        var resultover = [];

        if ($("#ffs").val().trim().length > 0) {
            var ffs = $("#ffs").val().trim();
            var ffm = ffs;
            if ($("#ffm").val().trim().length > 0) {
                ffm = $("#ffm").val().trim();
            }
            failover = [ffs, ffm];
        } else if ($("#frt").val().trim().length > 0) {
            var frt = $("#frt").val().trim();
            var frs = $("#frs").val().trim();
            try {
                if (frs === '') {
                    frs = null;
                } else {
                    frs = JSON.parse(frs);
                }
            } catch (err) {
            }
            resultover = [frt, frs];
        }

        if (failover.length > 0 || resultover.length > 0) {

            if (fastoversource.length > 0) {
                if (fastoversource.indexOf("$[") !== 0) {
                    alert("参数取值表达式需是以 $[ 开头!");
                    return;
                }

                if (fastoverval.length <= 0) {
                    alert("请配置白名单");
                    return;
                }
            }
            var fastoverConfig = {};
            if (fastoversource.length > 0) {
                fastoverConfig = {
                    'sources': [fastoversource]
                    , 'whites': fastoverval
                };
            }


            if (failover.length > 0) {
                fastoverConfig['fastFail'] = failover;
                if (!confirm("确定在" + fastoversource + " 存在于 " + fastoverval + " 时快速抛出异常么?")) {
                    return;
                }
            }
            if (resultover.length > 0) {
                fastoverConfig['fastReturn'] = resultover;
                if (!confirm("确定在" + fastoversource + " 存在于 " + fastoverval + " 时快速返回指定数据么?")) {
                    return;
                }
            }
            config['fastoverConfig'] = fastoverConfig;
        }


        if (slowtime != null && !isNaN(slowtime)) {
            config['slowTime'] = slowtime;
        }

        if (outtime != null && !isNaN(outtime)) {
            config['outTime'] = outtime;
        }

        if (debugsource.length > 0) {
            if (debugsource.indexOf("$[") !== 0) {
                alert("参数取值表达式需是以 $[ 开头!");
                return;
            }

            if (debugval.length <= 0) {
                alert("请配置白名单");
                return;
            }

            if (!confirm("确定在" + debugsource + " 存在于 " + debugval + " 时开启动态debug么?" + nowHour() + "内有效!")) {
                return;
            }
            config['debugConfig'] = {
                beginHour: nowHour()
                , endHour: nowHour()
                , sources: [debugsource]
                , whites: debugval
            };
        }


        if (specialDetail.length > 0 || sampleDetail.length > 0) {
            var detailConfig = {};
            if (specialDetail.length > 0) {
                detailConfig['specialDetail'] = [specialDetail];

                if (expectStatus.length > 0) {
                    detailConfig['expectStatus'] = expectStatus;
                }
            }

            if (sampleDetail.length > 0) {
                if (isNaN(samplerate)) {
                    alert('采样率必须为数字!');
                    return;
                }
                detailConfig['sampleRate'] = samplerate;
                detailConfig['sampleDetail'] = [sampleDetail];
            }
            config['detailConfig'] = detailConfig;
        }


        var res = {};
        res[ba] = config;
        //不要外层大括号
        $('#opsConfig').text(JSON.stringify(res).slice(1, -1));
    }

    function validValve(type) {
        var validparam = null;
        try {
            validparam = JSON.parse($("#validparam").val().trim());
            if (!Array.isArray(validparam)) {
                alert('被验证参数需是数组格式!');
                return;
            }
        } catch (e) {
            alert('请正确填写被验证数组参数!');
            return;
        }


        var source = null;
        var val = null;
        if (type === 'fastover') {
            source = $("#fastoversource").val().trim();
            val = $("#fastoverval").val().trim();
        } else {
            source = $("#debugsource").val().trim();
            val = $("#debugval").val().trim();
        }

        if (source.indexOf("$[") !== 0) {
            alert(type + "参数取值表达式需是以 $[ 开头!");
            return;
        }

        var open = false;
        if (val.length > 0) {
            open = val.split(',').indexOf(jsonPath(validparam, source).toString()) > -1;
        }
        $("#validresult").html(open + "");
    }

    function copyExtJson(key) {
        var val = JSON.stringify(shortDetailsMap[key]);
        copyToClipboard(val);
    }

    function init(source) {
        try {
            initG6(source);
        } catch (err) {
            console.log("initG6失败", err);
            alert('换源失败,请验证输入格式');
            graph = null;
            shortDetailsMap = {};
            $("#g6Box").html('');
            $("#reqSpan").html('');
            $("#timeSpan").html('');
            window.json_render.set({});
            if ($("#re_test_overlay").is(":visible")) {
                $("#re_test_overlay").hide();
                $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
            }
        }
    }



    function maulRender(){
        let source_text = $("#source").val();
        try {
            let obj = JSON.parse(source_text);
            if (isJsonArray(obj)) {
                refreshLinksData(obj)
                return;
            }
        } catch (e) {
        }
        init(source_text)
    }


    /**
     * 从输出框解析对象
     * @returns {any}
     */
    function parseSource(resource) {
        if (isNotEmptyObj(resource)) {
            return resource;
        }
        var ns = resource
        try {
            //先按照json解析
            return JSON.parse(ns);
        } catch (e) {
        }

        //再按照性能日志解析
        //id group#biz#action(Y,status,performance,begin,cost)d1|v1;d2|v2�...
        var split = ns.split('$M$');
        if (split.length < 1) {
            throw new Error('未发现有效日志');
        }


        var nodes = new Map();
        for (var i = 0; i < split.length; i++) {
            var nodeStr = split[i].trim();
            if (!nodeStr) {
                continue;
            }
            //id group#biz#action(Y,status,performance,begin,cost)d1|v1;d2|v2
            var idIndex = nodeStr.indexOf(" ");
            if (idIndex < 1) {
                throw new Error('日志不合规则');
            }
            var id = nodeStr.slice(0, idIndex);
            var groupIndex = nodeStr.indexOf("#", idIndex + 1);
            var group = nodeStr.slice(idIndex + 1, groupIndex);

            var bizIndex = nodeStr.indexOf("#", groupIndex + 1);
            var biz = nodeStr.slice(groupIndex + 1, bizIndex);

            var actionIndex = nodeStr.indexOf("(", bizIndex + 1);
            var action = nodeStr.slice(bizIndex + 1, actionIndex);

            var successIndex = nodeStr.indexOf(",", actionIndex + 1);
            var success = nodeStr.slice(actionIndex + 1, successIndex);


            var statusIndex = nodeStr.indexOf(",", successIndex + 1);
            var status = nodeStr.slice(successIndex + 1, statusIndex);

            var performanceIndex = nodeStr.indexOf(",", statusIndex + 1);
            var performance = nodeStr.slice(statusIndex + 1, performanceIndex);


            var beginIndex = nodeStr.indexOf(",", performanceIndex + 1);
            var begin = parseInt(nodeStr.slice(performanceIndex + 1, beginIndex));

            var costIndex = nodeStr.indexOf(",", beginIndex + 1);
            var cost = nodeStr.slice(beginIndex + 1, costIndex);
            cost = isNaN(parseInt(cost)) ? -1 : parseInt(cost);

            var rateIndex = nodeStr.indexOf(")", costIndex + 1);
            // var rate = nodeStr.slice(costIndex+1, rateIndex);

            var digests = [];
            var digestsStr = nodeStr.slice(rateIndex + 1).trim();
            //da=v1,db=v2
            var nextStart = 0;
            do {
                var keyIndex = digestsStr.indexOf("|", nextStart);
                if (keyIndex < 0) {
                    break;
                }

                var key = digestsStr.slice(nextStart, keyIndex);

                var valIndex = digestsStr.indexOf(";", keyIndex + 1);

                var val = valIndex < 0 ? digestsStr.slice(keyIndex + 1) : digestsStr.slice(keyIndex + 1, valIndex);

                var digest = {
                    "k": key
                    , "v": val
                };
                digests.push(digest);

                if (valIndex < 0 || valIndex >= digestsStr.length - 1) {
                    break;
                }
                nextStart = valIndex + 1;
            } while (true);

            var end = cost === -1 ? -1 : begin + cost;
            var node = {
                'linkid':id,
                "group": group,
                "biz": biz,
                "action": action,
                "begin": begin,
                "end": end,
                "cost": cost,
                "digests": digests,
                "implicitError": success === 'I',
                "error": success !== 'N' ? null : {
                    "error": "详情请查看日志"
                },
                "performance": performance === 'I' ? "NORMAL" : performance,
                "implicitSlow": performance === 'I',
                "segments": {},
                "status": status
            }
            nodes.set(id, node);
        }

        var arrayObj = Array.from(nodes);
        arrayObj.sort(function (a, b) {
            return a[0].localeCompare(b[0])
        });

        //root可能不是从根开始
        var rootId = arrayObj[0][0];

        // 从第二个开始遍历
        for (var i = 1; i < arrayObj.length; i++) {
            var id = arrayObj[i][0];
            var parentId = id.slice(0, id.lastIndexOf("."));
            // 只要根节点一下的部分
            if(!parentId.startsWith(rootId+".") && parentId != rootId){
                continue;
            }
            var parent = nodes.get(parentId);
            if(parent!=null){
                parent['segments'][id] = nodes.get(id);
                continue
            }
            
            var currentParentId = parentId;  
            var currentParent = nodes.get(currentParentId);  
            while (currentParent == null) {  
                var newNode = {  
                    'linkid': currentParentId,  
                    "group": "?",  
                    "biz": "?",  
                    "action": "?",  
                    "begin": "?",  
                    "end": "?",  
                    "cost": "?",  
                    "digests": [],  
                    "implicitError": null,  
                    "error": null,  
                    "performance": "?",  
                    "implicitSlow": null,  
                    "segments": {},  
                    "status": "?"  
                };  
                
                nodes.set(currentParentId, newNode);  
                if(currentParentId==parentId){
                    newNode['segments'][id] = nodes.get(id);
                }

                var nextParentId = currentParentId.slice(0, currentParentId.lastIndexOf("."));  
                
                if (nextParentId === "") {  
                    break;  
                }  

                var nextParent = nodes.get(nextParentId);  
                
                if (nextParent != null) {  
                    nextParent['segments'][currentParentId] = newNode;  
                    break
                }  
                
                currentParentId = nextParentId;  
                currentParent = nodes.get(currentParentId);  
            }  
        }
        return JSON.parse(JSON.stringify(nodes.get(rootId)));
    }

    function removeMergedSegments(data) {  
        // 如果根节点没有 segments 或者 segments 为空，直接返回根节点  
        if (!data.segments || Object.keys(data.segments).length === 0) {  
            return data;  
        }  

        // 新的 segments 对象  
        let newSegments = {};  

        // 遍历 segments  
        for (let key in data.segments) {  
            if (data.segments.hasOwnProperty(key)) {  
                let segment = data.segments[key];  
                // 仅保留 merge 不为 true 的 segments  
                if (!segment.merge) {  
                    if (segment.segments) {  
                        // 递归处理子 segments  
                        newSegments[key] = removeMergedSegments(segment);  
                    } else {  
                        newSegments[key] = segment;  
                    }  
                }  
            }  
        }  

        // 返回新对象，保留原始数据的根节点信息  
        return {  
            ...data,  
            segments: newSegments  
        };  
    }


    function initG6(resource) {
        let source = parseSource(resource)
        lastLinkSource = source;
        //如果开启了merge
        if(!$("#toggle-merge").is(":checked")){
            // 删除merge的部分内容
            source = removeMergedSegments(source)
        }

        graph = null;
        shortDetailsMap = {};
        $("#g6Box").html('');
        $("#reqSpan").html('');
        $("#timeSpan").html('');
        if ($("#opsTable").is(':visible')) {
            $("#opsTable").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#opsTable").height());
        }
        window.json_render.set({})
        if ($("#re_test_overlay").is(":visible")) {
            $("#re_test_overlay").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
        }

        //生成对象
        var data = {};
        data.linkid = source.linkid;
        data.group = source.group;
        data.biz = source.biz;
        data.action = source.action;
        data.success = source.error ? 'N' : (source['implicitError'] === true ? 'I' : 'Y');
        data.performance = source.performance === "NORMAL" && source['implicitSlow'] === true ? "I" : source.performance;
        data.slow = source.performance === 'SLOW' || source.performance === 'TIMEOUT';
        data.timeout = source.performance === 'TIMEOUT';
        data.status = source.status;
        data.error = source.error;
        data.begin = source.begin;
        data.end = source.end;
        data.cost = source.cost;
        data.digests = source.digests;
        data.tags = source.tags;
        data.shortDetails = source.shortDetails;
        data.callback = source.callback
        var segments = source.segments;
        for (let index in data.digests) {
            let key = data.digests[index]['k'];
            if (key === '_req_id') {
                document.getElementById("reqSpan").innerHTML = data.digests[index]['v']
                data.req_id = data.digests[index]['v']
            } else if (key === '_time') {
                document.getElementById("timeSpan").innerHTML = data.digests[index]['v']
                data.time = data.digests[index]['v']
            }
        }
        data.id = (data.req_id?data.req_id:'')+'#'+data.linkid;
        if (!isEmptyObj(segments)) {
            var children = [];
            data.children = children;
            for (id in segments) {
                var child = {};
                child.req_id = data.req_id
                //如果json不是从根开始的,则找儿子截取
                if(data.linkid==null){
                    data.linkid = segments[id]['linkid'].substring(0, segments[id]['linkid'].lastIndexOf('.'));
                }
                parseChild(segments[id], child);
                children.push(child);
            }
            //根据开始时间排序
            children.sort(function (a, b) {
                return a.begin - b.begin;
            });
        }

        

        //扩展map
        shortDetailsMap = {};
        const tooltip = new G6.Tooltip({
            offsetX: 0,
            offsetY: 0,
            getContent(e) {
                var outDiv = document.createElement('div');
                outDiv.style.width = '350px';
                var model = e.item._cfg.model;

                var html = "";
                //结束显示耗时条
                if (model.cost > -1 && data.cost > -1 &&  (model.req_id == data.req_id || fetchReqId(model)==model.req_id)) {
                    var beginPoint = ((model.begin - data.begin) * 280) / data.cost;
                    var endPoint = ((model.end - data.begin) * 280) / data.cost;
                    var firstWidth = beginPoint;
                    var secondWidth = endPoint - beginPoint;
                    var thirdWitdh = 280 - firstWidth - secondWidth;
                    var color = model.timeout ? 'f02400' : (model.slow ? '#f0ad4e' : '#5cb85c');
                    html = html.concat("<span style='float:right;width:70px;color:" + color + "'>[" + model.begin + "," + model.cost + "," + Math.floor(model.cost * 100 / data.cost) + "%]</span><div style='height:10px;'><div class='progress-bar all' style='width:" + firstWidth + "px;'></div><div class='progress-bar' style='width:" + secondWidth + "px;background-color:" + color + "'></div><div class='progress-bar all' style='width:" + thirdWitdh + "px;'></div></div>");
                }

                html = html.concat("<details open><summary>基础 </summary>");
                html = html.concat("<li>linkid： " + model.linkid + "</li>");
                if (model.req_id) {
                    let switch_btn = ''
                    if ($("#reqSpan").text() != model.req_id && model.linkid=='0') {
                        var allData = $("#links_table").bootstrapTable('getData');
                        var filteredData = $.grep(allData, function (item) {
                            return item.req_id === model.req_id; // 将 `name` 替换为您的字段名
                        });

                        if (filteredData.length == 1 && filteredData[0]['did']) {
                            let did = filteredData[0]['did'];
                            if (linkMap[did]) {

                                let back_color = null
                                if(is_callback(model.req_id)){
                                    back_color = '#AF0CEAFF'
                                }else{
                                    back_color = 'blue'
                                }

                                switch_btn = `<button class="spmin" style="background-color:${back_color};" onclick="switchLink('${did}')">渲染</button>`
                            }

                        }
                    }

                    html = html.concat("<li>req_id： " + model.req_id + switch_btn + "</li>");
                }
                html = html.concat("<li>group： " + (model.group ? model.group : '') + "</li>");
                html = html.concat("<li>biz： " + model.biz + "</li>");
                html = html.concat("<li>action： " + model.action + "</li>");
                html = html.concat("<li>status： " + (model.status ? model.status : '') + "</li>");
                html = html.concat("<li>performance： " + model.performance + "</li>");

                html = html.concat("</details>");

                var digests = model.digests;
                if (isNotEmptyArray(digests)) {
                    let showSummary = digests.length > 10 ? 'close' : 'open';
                    html = html.concat("<details " + showSummary + "><summary>摘要</summary>");
                    for (index in digests) {
                        html = html.concat("<li>" + digests[index].k + "： " + digests[index].v + "</li>");
                    }
                    html = html.concat("</details>");
                }

                var shortDetails = model.shortDetails;
                if (!isEmptyObj(shortDetails)) {
                    html = html.concat("<details open><summary>简讯</summary>");
                    for (key in shortDetails) {
                        var val = shortDetails[key];
                        shortDetailsMap[model.id + key] = val;
                        if (isJsonArray(val) || JSON.stringify(val).length > 100) {
                            html = html.concat("<li>" + key + "： <button class=\"spmin\" onclick=\"copyExtJson('" + (model.id + key) + "')\">复制</button> <button class='spmin' onclick=\"if($('#links_container').is(':visible')){switch_links_height();}renderObj('" + (model.id + key) + "')\">细看</button></li>");
                        } else if (val.toString().length > 10) {
                            html = html.concat("<li>" + key + "： <button class=\"spmin\" onclick=\"copyExtJson('" + (model.id + key) + "')\">复制</button> " + val + "</li>");
                        } else {
                            html = html.concat("<li>" + key + "：" + val + "</li>");
                        }
                    }
                    html = html.concat("</details>");
                }


                var tags = model.tags;
                if (isNotEmptyArray(tags)) {
                    html = html.concat("<details open><summary>标签</summary>");
                    for (index in tags) {
                        html = html.concat("<li>" + tags[index] + "</li>");
                    }
                    html = html.concat("</details>");
                }

                if (!isEmptyObj(model.error)) {

                    html = html.concat("<details ><summary>异常</summary>");
                    for (key in model.error) {
                        if(key=='stacks'){
                            continue;
                        }
                        var info = model.error[key];
                        if (info == null) {
                            continue;
                        }
                        html = html.concat("<li>" + key + "： " + info + "</li>");
                    }
                    if(model.error.stacks){
                        html = html.concat("<li>stacks：<pre> "+model.error.stacks.replace(/\n/g, '<br>').replace(/\t/g, '    ')+"</pre></li>");
                    }
                    html = html.concat("</details>");
                }


                outDiv.innerHTML = html;
                return outDiv
            },
            fixToNode: [0.4, 1],
            itemTypes: ['node']
        });

        var yc = 'https://gw.alipayobjects.com/zos/basement_prod/c781088a-c635-452a-940c-0173663456d4.svg';
        var zc = 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg';

        const toolbar = new G6.ToolBar({
            position: {x: $("#g6Box").width() - 155, y: 20}, getContent: () => `
<ul class="g6-component-toolbar" style="top: 50px; left: 20px;z-index: 999">
            <li code="zoomOut">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code="zoomIn">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code="realZoom">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code="autoZoom">
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
`
        })

        graph = new G6.TreeGraph({
            //图的 DOM 容器。可以是 String，为 DOM 容器的 id
            container: 'g6Box',
            fitView: true,
            fitCenter: true,
            minZoom: 0.1,
            maxZoom: 1,
            //交互行为相关
            modes: {
                // 支持的 behavior
                default: [
                    {
                        type: 'collapse-expand',
                        trigger: 'dblclick',
                        onChange: function onChange(item, collapsed) {
                            //取消节点选种
                            graph.setItemState(item, 'click', false);
                            //加底色
                            if (collapsed) {
                                graph.updateItem(item, {
                                    style: {
                                        fill: 'rgba(73,99,231,0.43)',
                                    }
                                })
                            } else {
                                graph.updateItem(item, {
                                    style: {
                                        fill: null,
                                    }
                                })
                            }
                            return true;
                        },
                    },
                    //拖动画布
                    'drag-canvas'
                ],
            },

            defaultNode: {
                type: "modelRect",
                size: [350, 60],
                labelCfg: {
                    style: {
                        fill: '#258',
                        stroke: '#258',
                        fontSize: 20,
                        lineWidth: 1
                    },
                    position: 'right',
                    offset: 5
                },
                descriptionCfg: {
                    style: {
                        fill: '#258',
                        stroke: '#258',
                        fontSize: 16,
                        lineWidth: 0.5
                    },
                }, preRect: {
                    // 设置为 false，则不显示
                    show: false,
                    //fill: '#f759',
                    width: 8,
                }, logoIcon: {
                    show: false,
                },
                stateIcon: {
                    show: true,
                },
                style: {
                    stroke: '#258',
                    lineWidth: 2
                }
            },
            // 节点在各状态下的样式
            nodeStateStyles: {
                // hover 状态为 true 时的样式
                hover: {
                    fill: 'lightsteelblue',
                },
                // click 状态为 true 时的样式
                click: {
                    stroke: '#f14141',
                    lineWidth: 4.5
                },
            },

            defaultEdge: {
                /**
                 * /**
                 *             //      * 边类型
                 *             //      * line：直线，不支持控制点；
                 *             //      polyline：折线，支持多个控制点；
                 *             //      arc：圆弧线；
                 *             //      quadratic：二阶贝塞尔曲线；
                 *             //      cubic：三阶贝塞尔曲线；
                 *             //      cubic-vertical：垂直方向的三阶贝塞尔曲线，不考虑用户从外部传入的控制点；
                 *             //      cubic-horizontal：水平方向的三阶贝塞尔曲线，不考虑用户从外部传入的控制点；
                 *             //      loop：自环。
                 */
                type: 'cubic-horizontal',
                style: {
                    radius: 20,
                    offset: 45,
                    // startArrow: {
                    // path: G6.Arrow.vee(20, 20, 0), // 内置箭头，参数为箭头宽度、长度、偏移量 d（默认为 0）
                    // } ,
                    endArrow: true,
                    lineWidth: 3,
                    stroke: '#C2C8D5',
                },

            },
            layout: {
                type: 'mindmap',//脑图布局
                direction: 'H',//纵向
                getHeight: () => {
                    //高度回调
                    return 60;
                },
                getWidth: () => {
                    //宽度回调
                    return 350;
                },
                getVGap: () => {
                    //节点纵向间距的
                    return 15;
                },
                getHGap: () => {
                    //节点横向间距的
                    return 30;
                },
                getSide: () => {
                    //往右放节点排布在根节点的左侧/右侧。
                    //若设置了该值，则所有节点会在根节点同一侧，即 direction = 'H' 不再起效。
                    //若该参数为回调函数，则可以指定每一个节点在根节点的左/右侧
                    return 'right';
                },
            },
            plugins: [tooltip, toolbar]
        });


        graph.node(function (node) {
            return {
                id: node.id,
                label: node.biz + '[' + (node.status ? node.status : '') + ']',
                description: node.action + '[' + node.begin + ',' + node.cost + ',' + node.end + ']',
                stateIcon: {
                    img: node.slow || node.timeout ? yc : zc
                },
                preRect: {
                    // 设置为 false，则不显示
                    show: node.success !== 'Y',
                    fill: node.success === 'N' ? '#e84197' : '#f3932c',
                    width: 8,
                },
                descriptionCfg: {
                    style: {
                        fill: node.linkid=='0'?is_callback(node.req_id)?'#AF0CEAFF':'blue':'#258',
                    },
                },
                style:{
                    stroke: node.linkid=='0'?is_callback(node.req_id)?'#AF0CEAFF':'blue':'#258',
                },
                labelCfg: {
                    style: {
                        fill: node.linkid=='0'?is_callback(node.req_id)?'#AF0CEAFF':'blue':'#258',
                        stroke: node.linkid=='0'?is_callback(node.req_id)?'#AF0CEAFF':'blue':'#258',
                    }
                }

            };
        });

        // 鼠标进入节点
        graph.on('node:mouseenter', (e) => {
            var nodeItem = e.item; // 获取鼠标进入的节点元素对象
            graph.setItemState(nodeItem, 'hover', true); // 设置当前节点的 hover 状态为 true
        });

        // 鼠标离开节点
        graph.on('node:mouseleave', (e) => {
            var nodeItem = e.item; // 获取鼠标离开的节点元素对象
            graph.setItemState(nodeItem, 'hover', false); // 设置当前节点的 hover 状态为 false
        });

        graph.on('node:click', function (e) {
            // 先将所有当前是 click 状态的节点置为非 click 状态
            var clickNodes = graph.findAllByState('node', 'click');
            clickNodes.forEach((cn) => {
                graph.setItemState(cn, 'click', false);
            });
            var nodeItem = e.item;
            graph.setItemState(nodeItem, 'click', true); // 设置当前节点的 click 状态为 true
        });
        graph.on('canvas:click', function (e) {
            // 先将所有当前是 click 状态的节点置为非 click 状态
            var clickNodes = graph.findAllByState('node', 'click');
            clickNodes.forEach((cn) => {
                graph.setItemState(cn, 'click', false);
            });
        });


        graph.on('afteranimate', () => graph.fitView([40, 20]));
        graph.data(data);
        graph.render();

        //回车搜
        $('input[name="sel"]').bind('keyup', function (event) {
            if (event.keyCode === 13) {
                //回车搜
                selectNodes($('input[name="sel"]').val());
            }
        });
    }

    function switchLink(did) {
        $('.xr_blue').css('background-color', 'blue');
        $('.xr_purple').css('background-color', '#AF0CEAFF');
        if(did.toString().includes('_')){
            $('#links_table').find('tr[data-uniqueid="' + did.toString().split('_')[0] + '"] .xr_'+did.toString().split('_')[1]).css('background-color', 'red');
        }else{
           $('#links_table').find('tr[data-uniqueid="' + did + '"] .xr_main').css('background-color', 'red');
        }
        if (linkMap[did]) {
            init(linkMap[did]);
        }
    }


    function initJsonRender() {
        var mode = "view";
        var options = {
            modes: [
                /*'text',*/ /*'tree',*/ "code",
                "view" /*, 'form', 'view'*/,
            ],
            mode: mode,
            // ace: ace,
            mainMenuBar: true,
            enableSort: false,
            enableTransform: true,
            navigationBar: false,
            history: false,
            statusBar: true,
            onEditable: function () {
                //只读
                // if(window.json_editor){
                //   return window.json_editor.options.mode==='code';
                // }
                // return mode==='code';
                return true;
            },
        };

        var height = window.innerHeight;
        $("#json-renderer").height(height - 64);
        var container_a = document.getElementById("json-renderer");
        window.json_render = new JSONEditor(container_a, options);

        var container_b = document.getElementById("rerun-param-renderer");
        window.rerun_param_render = new JSONEditor(container_b, options);
    }

    function initLoadEditor() {
        var editor_b = ace.edit("loader_code_editor");
        editor_b.setTheme("ace/theme/crimson_editor");
        editor_b.getSession().setMode("ace/mode/python");
        var textarea_b = document.getElementById('loader_code');
        editor_b.getSession().setValue(textarea_b.value);

        editor_b.getSession().on('change', function () {
            textarea_b.value = editor_b.getSession().getValue();
        });

        var editor_a = ace.edit("detail_code_editor");
        editor_a.setTheme("ace/theme/crimson_editor");
        editor_a.getSession().setMode("ace/mode/python");

        var textarea_a = document.getElementById('detail_code');
        editor_a.getSession().setValue(textarea_a.value);

        editor_a.getSession().on('change', function () {
            textarea_a.value = editor_a.getSession().getValue();
        });
    }

    function initLinksTable() {
        // 用新的数据初始化表格
        $('#links_table').bootstrapTable({
            data: [], // 这里是你的新数据
            dataType: 'jsonp',
            // pagination: false,
            width: 'auto',
            // fixedColumns: true,
            // fixedNumber: 1,
            // pageSize: 20,
            // pageList: [20],
            // sidePagination: 'client',
            // paginationVAlign: 'top',
            // paginationPreText: '<',
            // paginationNextText: '>',
            // showColumns: false,
            // cardView: false,
            // showToggle: true,                    //是否显示详细视图和列表视图的切换按钮
            search: true,
            uniqueId: 'did',
            //在哪一列展开树形
            treeShowField: 'req_id',
            //指定父id列
            idField: 'did',
            parentIdField: 'pid',
            onResetView: function (data) {
                //console.log('load');
                $('#links_table').treegrid({
                    // initialState: 'collapsed',// 所有节点都折叠
                    initialState: 'expanded',// 所有节点都展开，默认展开
                    treeColumn: 1,
                    // expanderExpandedClass: 'glyphicon glyphicon-minus',  //图标样式
                    // expanderCollapsedClass: 'glyphicon glyphicon-plus',
                    onChange: function () {
                        $('#links_table').bootstrapTable('refresh');
                    }
                });
                //只展开树形的第一级节点
                var treegrid = $('#links_table').treegrid('getRootNodes');
                if(treegrid.length==0){
                    return
                }
                treegrid.treegrid('expand');
                let firstRow = treegrid.first();
                if (firstRow.length > 0) {
                    let firstDid = firstRow.data('uniqueid');
                    switchLink(firstDid);
                }
            },
            columns: [
                {
                    field: 'cost',
                    title: 'cost',
                    cellStyle: null,
                    formatter: function (value, row, index) {
                        if (value == null || value == undefined) {
                            return null;
                        }
                        // 在这里定制你希望显示的内容
                        return `<pre>${value}</pre>`
                    },
                    sortable: true
                },
                {
                    field: 'req_id',
                    title: 'req_id',
                    cellStyle: function (value, row, index) {
                        return {
                            css: {
                                'display': 'flex'
                            }
                        };
                    },
                    formatter: function (value, row, index) {

                        let ret = ''
                        if (linkMap[row['did']] != null) {
                            let link = row['link']
                            let back_class = ''
                            if(is_callback(value) ){
                                back_class = 'xr_purple'
                            }else{
                                back_class = 'xr_blue'
                            }
                            ret = `<button class="spmin ${back_class} xr_main" type="button" style="margin-right: 3px;" onclick="switchLink('${row['did']}');" >渲染</button>`;
                        }else if (value == null || value == undefined) {
                            return null;
                        }
                        value = value == null || value == undefined ? '-' : value
                        // 在这里定制你希望显示的内容
                        return `<pre style="display: inline-block;">${ret}${value}</pre>`
                    },
                    sortable: true
                },
                {
                    field: 'did', visible: false
                },
                {
                    field: 'pid', visible: false
                },
                {
                    field: 'group',
                    title: 'group',
                    cellStyle: null,
                    formatter: function (value, row, index) {
                        if (value == null || value == undefined) {
                            return null;
                        }
                        // 在这里定制你希望显示的内容
                        return `<pre>${value}</pre>`
                    },
                    sortable: true
                },
                {
                    field: 'input',
                    title: 'input',
                    cellStyle: null,
                    formatter: function (value, row, index) {
                        if (value == null || value == undefined) {
                            return null;
                        }
                        // 在这里定制你希望显示的内容
                        return `<pre>${value}</pre>`
                    },
                    sortable: true
                },
                {
                    field: 'link',
                    title: 'link',
                    visible: false,
                    cellStyle: null,
                    formatter: function (value, row, index) {
                        if (value == null || value == undefined) {
                            return null;
                        }
                        // 在这里定制你希望显示的内容
                        return `<pre>${value}</pre>`
                    },
                    sortable: true
                }
            ]
        });
    }


    function findMockLink(links, req_id) {
        //遍历找到可能记录了内容的节点当做link信息
        for (let k in links) {
            let link = links[k]
            let digests = link['digests']
            if (digests) {
                for (let di in digests) {
                    let digest = digests[di]
                    if (digest['k'] == '_req_id' && digest['v'] == req_id) {
                        return link;
                    }
                }
            }

            let segments = link['segments']
            if (segments) {
                let next_datas = Object.values(segments)
                let childRet = findMockLink(next_datas, req_id)
                if (childRet != null) {
                    return childRet;
                }
            }
        }
        return null;
    }

    function fetchReqId(link) {
        if (link['digests']) {
            for (let di in link['digests']) {
                let digest = link['digests'][di];
                if (digest['k'] == '_req_id') {
                    return digest['v']
                }
            }
        }
    }

    function completeReqIds(reqIds) {
        const result = new Set();

        reqIds.forEach(reqId => {
            if(!reqId.includes('@')){
                result.add(reqId);
                return
            }
            const [prefix, levels] = reqId.split('@');
            const levelParts = levels.split('.');

            let currentLevel = prefix + '@';
            for (const part of levelParts) {
                if (currentLevel.endsWith('@')) {
                    currentLevel += `${part}`;
                } else {
                    currentLevel += `.${part}`;
                }
                result.add(currentLevel);
            }
        });

        return result;
    }

    function extractReqIds(data,callback_reqIds) {
        let reqIds = new Set();

        function traverse(obj) {
            if (obj && typeof obj === 'object') {
                let req_id = fetchReqId(obj)
                if (req_id != null && req_id.includes('@')) {
                    if(callback_reqIds.includes(req_id) || callback_reqIds.filter(item => req_id.startsWith(item)).length==0 ){
                        reqIds.add(req_id)
                    }
                }

                if (obj.segments) {
                    for (const key in obj.segments) {
                        traverse(obj.segments[key],callback_reqIds);
                    }
                }
            }
        }

        data.forEach(item => traverse(item));

        //reqid是类似这样的xxx2e32c@数字.数字.
        //后面的数字.数字代表着层级关系，我想遍历所有的节点可能
        return completeReqIds(reqIds);
    }

    function simpleHash(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
            const char = str.charCodeAt(i);
            hash = (hash << 5) - hash + char;
            hash |= 0; // Convert to 32bit integer
        }
        return hash;
    }

    function findCallbackProduceLink(link, req_id) {
        if (!link || !req_id) {
            return null;
        }
        if (fetchReqId(link) == req_id) {
            return link
        }
        if (link.segments) {
            for (let key in link.segments) {
                let ret = findCallbackProduceLink(link.segments[key], req_id)
                if (ret != null) {
                    return ret
                }
            }
        }
        return null;
    }

    function findLinkFromLink(plink, link) {
        if (!plink || !link) {
            return null;
        }
        if (plink.linkid==link.linkid && plink.group ==link.group && plink.biz ==link.biz && plink.action ==link.action) {
            return link
        }
        if (plink.segments) {
            for (let key in plink.segments) {
                let ret = findLinkFromLink(plink.segments[key], link)
                if (ret != null) {
                    return ret
                }
            }
        }
        return null;
    }

    function mergeLinks(datas) {
        if(!datas){
            return datas
        }

        let req2row = {}
        for(let data of datas){
            if(data.req_id==null){
                throw 'req_id不可为空'
            }
            if(!data.link){
                throw '链路信息不可为空'
            }
            data.link = parseSource(data.link)
            if(!data.link){
                throw '链路信息不规范'
            }
            data.group = data.link.group

            if(req2row[data.req_id]){
                req2row[data.req_id].push(data)
            }else{
                req2row[data.req_id] = [data]
            }
        }

        let merge_rows = []

        for(let req_id in req2row){
            let rows = req2row[req_id]
            let rootRow = rows.filter(item => item.link.linkid==0);
            if (rootRow.length>0){
                merge_rows.push(rootRow[0])
                continue
            }

        //    多层的merge起来
        //    link模型是{"linkid":"层级数字,多层之间用.分割","segments":{"id1":{link模型},"id2":{link模型}}}
        //    我现在有多行这个数据，但是没有一个是root节点，我需要merge这些link成一个root的link，root的定义是id="0"
        //    id的层级规则是0.1.34这样，一层多一个.

            // 清理rows中上下游关系的节点
            let idSet = new Set();
            let cleanedRows = rows.filter(row => {
                if (idSet.has(row.link.linkid)) {
                    // 如果id已经存在，跳过这个row
                    return false;
                }
                idSet.add(row.link.linkid);

                let prefix = row.req_id.split('@')[0]
                let ids = row.req_id.split('@')[1].split('.')

                for(let index in ids){
                    let s = prefix+'@'+ids.slice(0, parseInt(index)+1).join('.');
                    if(s==req_id){
                        continue
                    }
                    let rows = req2row[s]
                    if(rows==null){
                        continue
                    }
                    for(let prow of rows){
                        if(findLinkFromLink(prow.link,row.link)!=null){
                            return false
                        }
                    }
                }

                //0.1
                //0.1.2
                return !rows.some(innerRow =>
                    innerRow.link.linkid !== row.link.linkid &&
                    row.link.linkid.startsWith(innerRow.link.linkid)
                );
            });

            console.log('cleanedRows',cleanedRows)

            if(cleanedRows.length==0){
                continue
            }

            let cachedLink = {}

            for(let  clean_row of cleanedRows){
                let linkId = clean_row.link.linkid;
                let segmentPath = linkId.split('.');
            //    0.1.2

                let last_id = linkId
                let last_link = clean_row.link
                cachedLink[last_id] = last_link
                for (let index = segmentPath.length - 2; index >= 0; index--) {
                    let now_id = segmentPath.slice(0, index + 1).join('.');
                    if (cachedLink[now_id]) {
                        cachedLink[now_id]['segments'][last_id] = last_link
                    } else {
                        cachedLink[now_id] = {
                            'linkid': now_id,
                            'group': '?',
                            'biz': '?',
                            'action': '?',
                            'segments': {
                                [last_id]:last_link
                            },
                            'performance':'?',
                            'status':'?'
                        }
                    }
                    last_id = now_id
                    last_link = cachedLink[now_id]
                }
            }

            let merge_link = cachedLink['0']
            merge_link['digests'] = [{'k':'_req_id','v':req_id}]
            merge_rows.push(
                {
                    'req_id':req_id,
                    'link':merge_link
                }
            );
        }
        return merge_rows;
    }

    function is_callback(req_id){
        if(!req_id){
            return false
        }
        if(req_id.endsWith('@0') || !req_id.includes('@')){
            return false
        }
        let parts = req_id.split('.')
        let last_id = parts[parts.length-1]
        return last_id>100000
    }

    function refreshLinksData(data,loading) {
        $("#links_witch_btn_open").hide();
        $("#links_witch_btn_close").show();
        $("#json-renderer").hide();
        if ($("#re_test_overlay").is(":visible")) {
            $("#re_test_overlay").hide();
            $("#json-renderer").height($("#json-renderer").height() + $("#re_test_overlay").height());
        }
        $("#links_container").show();
        data = data || []
        linkMap = {}
        if(loading==true){
            $('#links_table').bootstrapTable('hideLoading');
            $('#links_table').bootstrapTable('load', data);
            let tab_height = $("#json-renderer").height() - 70;
            if ($("#re_test_overlay").is(":visible")) {
                tab_height += $("#re_test_overlay").height();
            }
            $("#links_container").find(".fixed-table-body").css('max-height', tab_height);
            return;
        }

        if(data.length==0 || loading==true){
            $('#links_table').bootstrapTable('hideLoading');
            if(data.length>0){
                $('#links_table').bootstrapTable('load', data);
            }
            let tab_height = $("#json-renderer").height() - 70;
            if ($("#re_test_overlay").is(":visible")) {
                tab_height += $("#re_test_overlay").height();
            }
            $("#links_container").find(".fixed-table-body").css('max-height', tab_height);
            return;
        }

        console.log('fromLinks',data)
        data = mergeLinks(data);
        console.log('mergeLinks',data)
        let tmp_links = {}
        for (let i in data) {
            let row = data[i]
            //    订正did 以及pid
            //    req_id 含有@切@后面是0.3.67这种格式内容
            let link = row.link;
            tmp_links[row['req_id']] = link

            //did = @后面内容，每个点前面的数字*1000多一个点，多*1000，
            //pid = pid相比did少算一组，是爹id
            let reqParts = row['req_id'].split('@');
            if (reqParts.length > 1 && /^[0-9]+(\.[0-9]+)*$/.test(reqParts[1])) {
                let versionParts = reqParts[1].split('.');
                let didValue = simpleHash(reqParts[0]);
                let pidValue = didValue;

                // 计算 did
                //[1,0,87] = 1*1000+0*1000*1000+87*1000*1000*1000
                let factor = 1;

                // 计算 did
                for (let i = 0; i < versionParts.length; i++) {
                    didValue += (parseInt(versionParts[i]) + 1) * factor;
                    factor *= 1000;
                }
                row['did'] = didValue;
                // 计算 pid，相比 did 少算一组
                if (versionParts.length > 1) {
                    factor = 1;
                    for (let i = 0; i < versionParts.length - 1; i++) {
                        pidValue += (parseInt(versionParts[i]) + 1) * factor;
                        factor *= 1000;
                    }
                    row['pid'] = pidValue;

                } else {
                    row['pid'] = null;
                }  
            } else {
                row['did'] = Date.now() + '.' + i;
                row['pid'] = null;
            }

            linkMap[row['did']] =link
        }

        data.sort(function (a, b) {
                if (a.req_id < b.req_id) {
                    return -1;
                }
                if (a.req_id > b.req_id) {
                    return 1;
                }
                return 0;
            });
        // 嫁接链路
        for (let callbackRow of data) {
            let reqId = callbackRow.req_id;
            if(reqId.endsWith('@0') || !reqId.includes('@')){
                continue
            }
            let root_link = tmp_links[reqId.split('@')[0] + '@0'];
            if (!root_link) {
                continue
            }

            //删除所有下游，因为可能存在多次调用
            // data = data.filter(item => !item.req_id || !item.req_id.startsWith(reqId))

            //有挂靠的节点
            let produceLink = findCallbackProduceLink(root_link, reqId)
            if (produceLink != null) {
                callbackRow.link.merge=true
                produceLink.segments[produceLink.linkid+'.1'] = callbackRow.link
                continue
            }

            // 回调场景会自己模拟id
            if(!is_callback(reqId)){
                continue
            }

            // 找到最后一个点的位置  
            const lastDotIndex = reqId.lastIndexOf('.');  

            // 如果没有找到点，返回原始输入  
            if (lastDotIndex === -1) {  
                continue
            }  

            // 截取最后一个点之前的内容  
            let search_req_id =  reqId.substring(0, lastDotIndex);  
            let random_id = reqId.substring(lastDotIndex+1);  

            //有挂靠的节点
            produceLink = findCallbackProduceLink(root_link, search_req_id)
            if (produceLink != null) {
                callbackRow.link.merge=true
                produceLink.segments[produceLink.linkid+'.'+random_id] = callbackRow.link
            }
        }
        


        //找到所有的节点
        let tree_reqids = extractReqIds(Object.values(tmp_links),Object.keys(tmp_links))

        for (let index in data) {
            let d = data[index]
            if (d['req_id']) {
                tree_reqids.delete(d['req_id'])
            }
        }

        console.log('tree_reqids',tree_reqids)


        for (let areq_id of tree_reqids) {

            let reqParts = areq_id.split('@');
            let versionParts = reqParts[1].split('.');

            let didValue = simpleHash(reqParts[0]);
            let pidValue = didValue;

            // 计算 did
            //[1,0,87] = 1*1000+0*1000*1000+87*1000*1000*1000
            let factor = 1;

            // 计算 did
            for (let i = 0; i < versionParts.length; i++) {
                didValue += (parseInt(versionParts[i]) + 1) * factor;
                factor *= 1000;
            }

            // 计算 pid，相比 did 少算一组
            if (versionParts.length > 1) {
                factor = 1;
                for (let i = 0; i < versionParts.length - 1; i++) {
                    pidValue += (parseInt(versionParts[i]) + 1) * factor;
                    factor *= 1000;
                }
            } else {
                pidValue = null
            }


            let nd = {
                'req_id': areq_id,
                'did': didValue,
                'pid': pidValue
            }

            let mockLink = findMockLink(tmp_links, areq_id)
            if (mockLink) {
                nd['link'] = mockLink
                nd['cost'] = mockLink['cost']
                nd['group'] = mockLink['group']
            }
            data.push(nd)
        }

        data.sort(function (a, b) {
            if (a.req_id < b.req_id) {
                return -1;
            }
            if (a.req_id > b.req_id) {
                return 1;
            }
            return 0;
        });
        console.log('linktable_final',data)

        $('#links_table').bootstrapTable('hideLoading');
        $('#links_table').bootstrapTable('load', data);
        let tab_height = $("#json-renderer").height() - 70;
        if ($("#re_test_overlay").is(":visible")) {
            tab_height += $("#re_test_overlay").height();
        }
        $("#links_container").find(".fixed-table-body").css('max-height', tab_height);
    }
</script>
<script type="text/javascript">
    var shortDetailsMap = {};
    var linkMap = {};
    var lastLinkSource = null;
    var pluginLoadId = null;
    var pluginDetailId = null;
    var graph;
    var test_sse;
    //回车加载
    $('#source').bind('keyup', function (event) {
        if (event.keyCode === 13) {
            maulRender();
        }
    });
    $('#opssource').bind('keyup', function (event) {
        if (event.keyCode === 13) {
            changeOpssource();
        }
    });
</script>

<script>
    //获取链接参数
    function getUrlParameter(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    $(function () {
        var cookieName = window.location.pathname.replace('/', '') + 'FormValues';

        // 读取localStorage，如果存在则填充表单元素
        function readLocalStorageAndFillForm(onlyRead) {
            var formElements = $('input:not([type="file"]),textarea,select');
            var storageValue = localStorage.getItem(cookieName);
            if (storageValue && !onlyRead) {
                var formValues = JSON.parse(storageValue);
                console.log('read_localStorage', cookieName, storageValue)
                formElements.each(function () {
                    var element = $(this);
                    if (formValues.hasOwnProperty(element.attr('id'))) {
                        if (element.is('input[type=checkbox]')) {
                            element.prop('checked', formValues[element.attr('id')]);
                        } else {
                            element.val(formValues[element.attr('id')]);
                        }
                    }
                });
                return formValues
            }
            return {}
        }

        // 保存表单元素的值到localStorage
        function saveFormValuesToLocalStorage() {
            var formElements = $('input:not([type="file"]),textarea,select');
            var formValues = {};
            formElements.each(function () {
                var element = $(this);
                if (element.is('input[type=checkbox]')) {
                    formValues[element.attr('id')] = element.prop('checked');
                } else {
                    formValues[element.attr('id')] = element.val();
                }
            });
            var storageValue = JSON.stringify(formValues);
            console.log('write_localStorage', cookieName, storageValue)
            localStorage.setItem(cookieName, storageValue);
        }

        // 在页面退出时保存表单元素的值到localStorage
        $(window).on('beforeunload', saveFormValuesToLocalStorage);

        // 页面加载完成后填充表单元素
        readLocalStorageAndFillForm();
        //读取链接参数
        let param_link = getUrlParameter("link")
        if (param_link) {
            $("#source").val(param_link);
            init(param_link);
        }

        // 点击关闭按钮，隐藏遮罩层
        $('#close').click(function () {
            $('#overlay').hide();
        });

        initJsonRender();
        initLoadEditor();
        initLinksTable();
        $('body').tooltip({
            selector: '[data-toggle="tooltip"]'
        });

        // 为开关绑定 change 事件处理程序  
        $('#toggle-merge').on('change', function() {  
            // 获取当前的开关状态  
            var isChecked = $(this).is(':checked');  
            
            // 输出开关状态到控制台  
            console.log('开关状态:', isChecked);  
            if(!lastLinkSource){
                return
            }
            initG6(lastLinkSource) 
        });  
    });
</script>
</html>
